{"version":3,"sources":["uni-app:///main.js","webpack:///E:/finalproject/ParkingLotMobile/pages/findcar/findcar.vue?c919","webpack:///E:/finalproject/ParkingLotMobile/pages/findcar/findcar.vue?e316","webpack:///E:/finalproject/ParkingLotMobile/pages/findcar/findcar.vue?0db8","webpack:///E:/finalproject/ParkingLotMobile/pages/findcar/findcar.vue?40a0","uni-app:///pages/findcar/findcar.vue","webpack:///E:/finalproject/ParkingLotMobile/pages/findcar/findcar.vue?3149","webpack:///E:/finalproject/ParkingLotMobile/pages/findcar/findcar.vue?6e9f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","key","data","msgType","messageText","latitude","longitude","markers","polyline","windowHeight","timer","onReady","onLoad","onShow","setTimeout","uni","url","console","success","scope","that","fail","title","content","cancelText","cancelColor","confirmText","confirmColor","onHide","clearInterval","onUnload","methods","main","GetCustomerLocation","type","geocode","isHighAccuracy","MarkCustomerLocation","id","width","height","iconPath","Direction","callout","fontSize","borderRadius","borderWidth","bgColor","display","qqmapsdk","mode","from","to","pl","coors","points","color","messageBox"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AAC0L;AAC1L,gBAAgB,mMAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,+PAEN;AACP,KAAK;AACL;AACA,aAAa,sWAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAA0sB,CAAgB,+tBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiB9tB,cAAc,mBAAO,CAAC,uCAA+B;AACrD;EACAC;AACA;AAAA,eACA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC,2BAEA;EACAC;IACA;IACA;MAAA;MACA;MACAC;QACAC;UACAC;QACA;MACA;IACA;MAAA;MACA;MACAF;QACAC;UACAC;QACA;MACA;IACA;MACAC;MACA;MACA;MACAF;QACAG;UACA;UACA;YACA;YACAH;cACAI;cACAD;gBACAD;gBACA;gBACAG;cACA;cACAC;gBACA;gBACAJ;gBACA;gBACAF;kBACAO;kBACAC;kBACAC;kBACAC;kBACAC;kBACAC;kBACAT;oBACA;sBACA;sBACAH;wBACAG;0BACAD;wBACA;sBACA;oBACA;sBACA;sBACAA;oBACA;kBACA;gBACA;cACA;YACA;UACA;UACA;UAAA,KACA;YACAA;YACAG;UACA;QACA;QACAC;UACAJ;QACA;MACA;IACA;EACA;EACA;EACAW;IACA;IACAC;IACA;IACA;IACAZ;IACAA;EACA;EACA;EACAa;IACA;IACAD;IACA;IACA;IACAZ;IACAA;EACA;EACAc;IACAC;MACA;MACAjB;QACAG;UACAE;QACA;MACA;MACA;MACAA;MACA;MACA;MACAA;MACAA;MACA;MACAA;MACAA;QACAA;MACA;IACA;IACA;IACAa;MACA;MACAlB;QACAmB;QACAC;QAAA;QACAC;QACAlB;UACAH;QACA;MACA;IACA;IACA;IACAsB;MACA;MACAtB;QACAmB;QACA;QACA;QACAhB;UACAD;UACAG;UACAA;UACA;YACAA;cACAkB;cACAC;cACAC;cACAlC;cACAD;cACAoC;YACA;UACA;YACArB;YACAA;cACAkB;cACAC;cACAC;cACAlC;cACAD;cACAoC;YACA;UACA;QACA;QACApB;UACAJ;QACA;MACA;IACA;IACA;IACAyB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAzB;MACAG;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;QACAkB;QACAC;QACAC;QACAlC;QACAD;QACAoC;QACAE;UACApB;UACAqB;UAAA;UACAC;UAAA;UACAC;UACAC;UAAA;UACAC;QACA;MACA;;MACAC;QACAC;QACAC;QAAA;QACAC;QAAA;QACAlC;UACAD;UACA;UACA;YAAAoC;UACA;UACA;UACA;YACAC;UACA;UACA;UACA;YACAD;cAAAhD;cAAAC;YAAA;UACA;UACA;UACAc,gCACAA,kCACAA;YACAmC;YACAC;YACAjB;UACA;QACA;QACAlB;UACAJ;QACA;MACA;IACA;IACAwC;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9RA;AAAA;AAAA;AAAA;AAAsgC,CAAgB,ggCAAG,EAAC,C;;;;;;;;;;;ACA1hC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/findcar/findcar.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/findcar/findcar.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./findcar.vue?vue&type=template&id=07fe1404&\"\nvar renderjs\nimport script from \"./findcar.vue?vue&type=script&lang=js&\"\nexport * from \"./findcar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./findcar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/findcar/findcar.vue\"\nexport default component.exports","export * from \"-!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./findcar.vue?vue&type=template&id=07fe1404&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupMessage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-message/uni-popup-message\" */ \"@/uni_modules/uni-popup/components/uni-popup-message/uni-popup-message.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./findcar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./findcar.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view id=\"mapbox\">\r\n\t\t\t<map ref=\"mymap\" id=\"mymap\" :style=\"{height:windowHeight + 'px'}\"\r\n\t\t\t:latitude=\"latitude\" :longitude=\"longitude\" :markers=\"markers\" :polyline=\"polyline\"\r\n\t\t\t rotate=0 ></map>\r\n\t\t</view> \r\n\t\t<!-- 提示信息弹窗 -->\r\n\t\t<view>\r\n\t\t\t<uni-popup ref=\"message\" type=\"message\">\r\n\t\t\t\t<uni-popup-message :type=\"msgType\" :message=\"messageText\" :duration=\"2000\"></uni-popup-message>\r\n\t\t\t</uni-popup>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\nvar QQMapWX = require('@/utils/qqmap-wx-jssdk.min.js')\r\nvar qqmapsdk = new QQMapWX({\r\n\t\t\tkey: 'U67BZ-GJTEX-V464V-ZC7IB-J23R7-V2F4Y'\r\n\t\t})\r\nexport default {\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\t//消息盒子类型\r\n\t\t\tmsgType: '',\r\n\t\t\t//消息盒子内容\r\n\t\t\tmessageText: '',\r\n\t\t\t//地图初始化中心点，默认为用户当前定位\r\n\t\t\tlatitude:'',\r\n\t\t\tlongitude:'',\r\n\t\t\tmarkers:[],\r\n\t\t\tpolyline:[],\r\n\t\t\twindowHeight:'',\r\n\t\t\ttimer:null,\r\n\t\t} \r\n\t},\r\n\tonReady() {\r\n\t\t//创建地图画布\r\n\t\tthis.mapContext = uni.createMapContext('mymap',this);\r\n\t},\r\n\tonLoad(){\r\n\t\t\r\n\t},\r\n\tonShow() {\r\n\t\tvar loginCustomer = uni.getStorageSync(\"LoginCustomerInfo\");\r\n\t\tif(loginCustomer.openId == null){//未登录\r\n\t\t\tthis.messageBox('error','请先登录！');\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl:\"/pages/index/index\"\r\n\t\t\t\t})\r\n\t\t\t},1500)\r\n\t\t}else if(loginCustomer.enterTime == null || loginCustomer.leaveTime != null){//未进场或已离场无法寻车\r\n\t\t\tthis.messageBox('error','您未进场或已离场，寻车失败！');\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl:\"/pages/index/index\"\r\n\t\t\t\t})\r\n\t\t\t},1500)\r\n\t\t}else{\r\n\t\t\tconsole.log(\"反向寻车：车位导航前置条件满足\")\r\n\t\t\tvar that = this;\r\n\t\t\t//获取用户授权后定位位置信息\r\n\t\t\tuni.getSetting({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t// 如果没有授权\r\n\t\t\t\t\tif (!res.authSetting['scope.userLocation']) {\r\n\t\t\t\t\t\t// 则拉起授权窗口\r\n\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\tscope: 'scope.userLocation',\r\n\t\t\t\t\t\t\tsuccess(){\r\n\t\t\t\t\t\t\t\tconsole.log(\"反向寻车：用户已授权（授权窗口），开始执行程序\")\r\n\t\t\t\t\t\t\t\t//进入程序主方法\r\n\t\t\t\t\t\t\t\tthat.main();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail(error) {\r\n\t\t\t\t\t\t\t\t//点击了拒绝授权后--就一直会进入失败回调函数--此时就可以在这里重新拉起授权窗口\r\n\t\t\t\t\t\t\t\tconsole.log('拒绝授权', error)\r\n\t\t\t\t\t\t\t\t//提示\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\tcontent: '若点击不授权，将无法使用位置功能',\r\n\t\t\t\t\t\t\t\t\tcancelText: '不授权',\r\n\t\t\t\t\t\t\t\t\tcancelColor: '#999',\r\n\t\t\t\t\t\t\t\t\tconfirmText: '授权',\r\n\t\t\t\t\t\t\t\t\tconfirmColor: '#f94218',\r\n\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t// 选择弹框内授权\r\n\t\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res.authSetting)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t// 选择弹框内 不授权\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击不授权')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//若有授权，执行业务方法\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log(\"反向寻车：用户已授权（二次），开始执行程序\")\r\n\t\t\t\t\t\tthat.main();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail(err) {\r\n\t\t\t\t\tconsole.log(\"授权获取错误：\",err);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\t//监听页面隐藏\r\n\tonHide(){\r\n\t\t//离开页面时清除计时器\r\n\t\tclearInterval(this.timer);\r\n\t\tthis.timer = null;\r\n\t\tthis.markers.pop();\r\n\t\tconsole.log(\"反向寻车：退出程序\");\r\n\t\tconsole.log(this.markers);\r\n\t},\r\n\t//监听页面卸载\r\n\tonUnload(){\r\n\t\t//离开页面时清除计时器\r\n\t\tclearInterval(this.timer);\r\n\t\tthis.timer = null;\r\n\t\tthis.markers.pop();\r\n\t\tconsole.log(\"反向寻车：退出程序\");\r\n\t\tconsole.log(this.markers);\r\n\t},\r\n\tmethods:{\r\n\t\tmain(){\r\n\t\t\tvar that = this;\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tthat.windowHeight = res.windowHeight;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t//获取用户当前位置的经纬度，返回到本地缓存中\r\n\t\t\tthat.GetCustomerLocation();\r\n\t\t\t//用户坐标(地图渲染中心)\r\n\t\t\tvar location = uni.getStorageSync(\"CustomerLocation\");\r\n\t\t\tthat.latitude = location.latitude;\r\n\t\t\tthat.longitude = location.longitude;\r\n\t\t\t//路径规划\r\n\t\t\tthat.Direction();\r\n\t\t\tthat.timer = setInterval( () => {\r\n\t\t\t    that.MarkCustomerLocation();\t\t\t\r\n\t\t\t}, 2000);\r\n\t\t},\r\n\t\t//获取用户位置\r\n\t\tGetCustomerLocation(){\r\n\t\t\tvar that = this;\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype: 'wgs84',\r\n\t\t\t\tgeocode: true , //设置该参数为true可直接获取经纬度及城市信息\r\n\t\t\t\tisHighAccuracy:true,\r\n\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\tuni.setStorageSync(\"CustomerLocation\",res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//获取用户位置并标记\r\n\t\tMarkCustomerLocation(){\r\n\t\t\tvar that = this;\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype: 'wgs84',\r\n\t\t\t\t// geocode: true , //设置该参数为true可直接获取经纬度及城市信息\r\n\t\t\t\t// isHighAccuracy:true,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tconsole.log(\"用户当前定位信息：\",res);\r\n\t\t\t\t\tthat.userLatitude = res.latitude;\r\n\t\t\t\t\tthat.userLongitude = res.longitude;\r\n\t\t\t\t\tif(that.markers.length == 0 || that.markers[that.markers.length-1].id != 9990){\r\n\t\t\t\t\t\tthat.markers.push({\r\n\t\t\t\t\t\t\tid:9990,\r\n\t\t\t\t\t\t\twidth:25,\r\n\t\t\t\t\t\t\theight:25,\r\n\t\t\t\t\t\t\tlongitude:res.longitude,\r\n\t\t\t\t\t\t\tlatitude:res.latitude,\r\n\t\t\t\t\t\t\ticonPath:'/static/icon/user-navi.png',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.markers.pop();\r\n\t\t\t\t\t\tthat.markers.push({\r\n\t\t\t\t\t\t\tid:9990,\r\n\t\t\t\t\t\t\twidth:25,\r\n\t\t\t\t\t\t\theight:25,\r\n\t\t\t\t\t\t\tlongitude:res.longitude,\r\n\t\t\t\t\t\t\tlatitude:res.latitude,\r\n\t\t\t\t\t\t\ticonPath:'/static/icon/user-navi.png',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail(error) {\r\n\t\t\t\t\tconsole.log('失败', error);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t//路径规划\r\n\t\tDirection(){\r\n\t\t\tvar that = this;\r\n\t\t\t//车位坐标\r\n\t\t\tvar loginCustomer = uni.getStorageSync(\"LoginCustomerInfo\");\r\n\t\t\tvar parkingPlaceLocation = loginCustomer.latitude + ',' +  loginCustomer.longitude;\r\n\t\t\t//用户坐标\r\n\t\t\tvar location = uni.getStorageSync(\"CustomerLocation\");\r\n\t\t\tvar customerLocation = location.latitude + ',' + location.longitude;\r\n\t\t\tconsole.log(\"customerlocation:\",customerLocation)\r\n\t\t\tthat.markers = [\r\n\t\t\t// \t//用户标记\r\n\t\t\t// \t{\r\n\t\t\t// \tid:0,\r\n\t\t\t// \twidth:25,\r\n\t\t\t// \theight:25,\r\n\t\t\t// \tlongitude:location.longitude,\r\n\t\t\t// \tlatitude:location.latitude,\r\n\t\t\t// \ticonPath:'/static/icon/userplace.png',\r\n\t\t\t// \tcallout:{\r\n\t\t\t// \t\tcontent:\"您的位置\",\r\n\t\t\t// \t\tfontSize:14,//文本大小\r\n\t\t\t// \t\tborderRadius:15,//边框圆角\r\n\t\t\t// \t\tborderWidth:'10',\r\n\t\t\t// \t\tbgColor:'#1296db',//背景颜色\r\n\t\t\t// \t\tdisplay:'ALWAYS',//常显\r\n\t\t\t// \t}\r\n\t\t\t\t\r\n\t\t\t// },\r\n\t\t\t//车位标记\r\n\t\t\t{\r\n\t\t\t\tid:1,\r\n\t\t\t\twidth:25,\r\n\t\t\t\theight:25,\r\n\t\t\t\tlongitude:loginCustomer.longitude,\r\n\t\t\t\tlatitude:loginCustomer.latitude,\r\n\t\t\t\ticonPath:'/static/icon/userplace.png',\r\n\t\t\t\tcallout:{\r\n\t\t\t\t\tcontent:\"车位:\"+loginCustomer.parkingPlaceId,\r\n\t\t\t\t\tfontSize:14,//文本大小\r\n\t\t\t\t\tborderRadius:15,//边框圆角\r\n\t\t\t\t\tborderWidth:'10',\r\n\t\t\t\t\tbgColor:'#1296db',//背景颜色\r\n\t\t\t\t\tdisplay:'ALWAYS',//常显\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\t\tqqmapsdk.direction({\r\n\t\t\t\tmode:'walking',\r\n\t\t\t\tfrom:customerLocation, //用户当前位置：起点经纬度\r\n\t\t\t\tto:parkingPlaceLocation, //停车位置：终点\r\n\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\tconsole.log(\"direction res\",res)\r\n\t\t\t\t\tvar ret = res;\r\n\t\t\t\t\tvar coors = ret.result.routes[0].polyline, pl = [];\r\n\t\t\t\t\t//坐标解压（返回的点串坐标，通过前向差分进行压缩）\r\n\t\t\t\t\tvar kr = 1000000;\r\n\t\t\t\t\tfor (var i = 2; i < coors.length; i++) {\r\n\t\t\t\t\t  coors[i] = Number(coors[i - 2]) + Number(coors[i]) / kr;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//将解压后的坐标放入点串数组pl中\r\n\t\t\t\t\tfor (var i = 0; i < coors.length; i += 2) {\r\n\t\t\t\t\t  pl.push({ latitude: coors[i], longitude: coors[i + 1] })\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//设置polyline属性，将路线显示出来,将解压坐标第一个数据作为起点\r\n\t\t\t\t\tthat.latitude=pl[0].latitude,\r\n\t\t\t\t\tthat.longitude=pl[0].longitude,\r\n\t\t\t\t\tthat.polyline= [{\r\n\t\t\t\t\t\tpoints: pl,\r\n\t\t\t\t\t\tcolor: '#1296db',\r\n\t\t\t\t\t\twidth: 4\r\n\t\t\t\t\t}] \r\n\t\t\t\t},\r\n\t\t\t\tfail:function(res){\r\n\t\t\t\t\tconsole.log('err',res)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tmessageBox(msgType,messageText){\r\n\t\t\tthis.msgType = msgType\r\n\t\t\tthis.messageText = messageText\r\n\t\t\tthis.$refs.message.open();\r\n\t\t},\r\n\t}\r\n}\n</script>\n\n<style>\r\n\t#mymap{\r\n\t\twidth: 100%;\r\n\t}\n</style>","import mod from \"-!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./findcar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\applicationDownload\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./findcar.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1681622629780\n      var cssReload = require(\"D:/applicationDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}